var t=function(){function t(t,e){this.x=0,this.y=0,this.x=t,this.y=e}return t.prototype.sum=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.reduce((function(e,n){return new t(e.x+n.x,e.y+n.y)}),this)},t.prototype.times=function(e){return new t(this.x*e,this.y*e)},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t}(),e=function(){function e(e,n,i,o){this.v0=new t(0,0),this.v1=new t(.2,0),this.v2=new t(.8,1),this.v3=new t(1,1),this.v1.x=e,this.v1.y=n,this.v2.x=i,this.v2.y=o}return e.prototype.compute=function(e){return e<0?new t(0,0):e>1?new t(1,1):this.v0.times(Math.pow(1-e,3)).sum(this.v1.times(3*Math.pow(1-e,2)*e)).sum(this.v2.times(3*(1-e)*Math.pow(e,2))).sum(this.v3.times(Math.pow(e,3)))},e}(),n=document.querySelector("#cartesian-plane"),i=n.getContext("2d"),o=document.getElementById("v1"),h=document.getElementById("v2"),s=new e(.7,.3,.3,.7),u=Math.min(n.height,n.width);function r(t){var i=0,u=0,r=0,c=0;function m(m){m.preventDefault(),i=r-m.clientX,u=c-m.clientY,r=m.clientX,c=m.clientY,t.style.top=t.offsetTop-u+"px",t.style.left=t.offsetLeft-i+"px",s=new e(o.offsetLeft/n.width,(n.height-o.offsetTop)/n.height,h.offsetLeft/n.width,(n.height-h.offsetTop)/n.height)}function f(){document.onmouseup=null,document.onmousemove=null}t.onmousedown=function(t){t.preventDefault(),r=t.clientX,c=t.clientY,document.onmouseup=f,document.onmousemove=m}}function c(t,e,n){i.beginPath(),i.setLineDash(n),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.strokeStyle="#457B9DEB",i.lineWidth=2,i.stroke(),i.closePath(),i.setLineDash([])}requestAnimationFrame((function(){return function e(o,h){i.clearRect(0,0,n.width,n.height);var r=new t(0,n.height),m=new t(n.width,0);c(r,m,[2,2]),c(r,new t(o.x,n.height-o.y),[2,2]),c(m,new t(h.x,n.height-h.y),[2,2]),i.beginPath(),i.moveTo(0,n.height),i.bezierCurveTo(o.x,u-o.y,h.x,u-h.y,n.width,0),i.strokeStyle="#1d3557",i.lineWidth=6,i.stroke(),i.closePath(),requestAnimationFrame((function(){return e(s.v1.times(u),s.v2.times(u))}))}(s.v1.times(u),s.v2.times(u))})),r(o),r(h);
